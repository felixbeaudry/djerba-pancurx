<!--This file is the HTML code for the sWGS section of the report.-->
<!--AUTHOR: Aqsa Alam-->

<!-- IMPORTS -->
<%
  from djerba.plugins.swgs.render import html_builder
  import djerba.plugins.swgs.constants as constants
  from djerba.util.image_to_base64 import converter
%>
  
  
<!-- Copy Number Variants -->
${html_builder().section_cells_begin("<h2>Shallow Whole Genome Sequencing</h2>","main")}

      <p>     <strong>${results.get(constants.TOTAL_VARIANTS)}</strong> cancer gene(s) were subject to copy number variation, 
            of which <strong>${results.get(constants.CLINICALLY_RELEVANT_VARIANTS)}</strong> corresponded to an oncogenic alteration, as defined by OncoKB. 
            Small regions (&#60;3mb) with large copy number gains marked as &#9650 in plot below.
      </p>

      <img id='sWGS' style='width: 100%; object-fit: contain' src="${converter().convert_svg(results.get(constants.CNV_PLOT), 'CNV plot')}"/>

      % if results.get(constants.CLINICALLY_RELEVANT_VARIANTS) > 0:
            <table class="variants" width="100%">
            ${html_builder().oncogenic_CNVs_header(results)}
            <tbody>
            % for row in html_builder().oncogenic_CNVs_rows(results):
                  ${row}
            % endfor
            </table>
            </tbody>
            </table>
	    </table>

      % endif
      
${html_builder().section_cells_end()}
