<%
  from djerba.plugins.pwgs.analysis.render.json_to_html import html_builder
  import djerba.plugins.pwgs.constants as constants
%>

${html_builder().section_cells_begin("<h2>Patient & Physician</h2>","main")}
      
  <table class="info">
  <tr>  <th style="width:20%"></th>   <th style="width:12%"></th>  <th style="width:21%"></th>   <th style="width:30%"></th>  </tr>
  <tr>  <td colspan="1">Patient Name:</td> <td colspan="3">LAST NAME, FIRST NAME</td>  </tr>

    <tr>
      <td>Patient Genetic Sex:</td><td>SEX</td>
      <td>Patient DOB:</td><td>yyyy/mm/dd</td>
    </tr>
    <tr>
      <td >Physician Licence #:</td><td>nnnnnnnn</td>
      <td >Physician:</td><td>LAST, FIRST</td>
    </tr>
    <tr>
      <td>Physician Phone #:</td><td>nnn-nnn-nnnn</td>
      <td>Physician Hospital:</td><td>HOSPITAL NAME AND ADDRESS</td>
    </tr>

  </table>
      
${html_builder().section_cells_end()}

${html_builder().section_cells_begin("<h2>Case Overview</h2>","main")}

  <table class="info">
  <tr> <th style="width:25%"></th>  <th style="width:20%"></th>  <th style="width:25%"></th>  <th style="width:30%"></th> </tr>
  <tr> <td colspan="1">Assay:</td>  <td colspan="3"> plasma Whole Genome Sequencing (pWGS) - 30X (v1.0) </td> </tr>    

    <tr>
      <td>Site of biopsy/surgery:</td>  <td>Liquid Biopsy</td>
      <td>Primary cancer:</td> <td>Pancreatic Adenocarcinoma</td>
    </tr>
    <tr>
      <td>Type of Specimen:</td> <td>Plasma</td>
      <td>Date of Report:</td> <td>2023/05/05</td>
    </tr>
    <tr>
      <td>Patient LIMS ID:</td><td>PLACEHOLDER</td>
      <td>WGS Report ID:</td><td>PLACEHOLDER</td>
    </tr>
    <tr>
      <td>Patient Study ID:</td><td>PLACEHOLDER</td>
      <td>Blood Sample ID:</td><td>PLACEHOLDER</td>
    </tr>
    <tr>
      <td >Study:</td><td>PLACEHOLDER</td>
      <td>pWGS Report ID:</td><td>PLACEHOLDER</td>
    </tr>
    <tr>
      <td >Requisition Approved:</td><td>2023/01/01</td>
      <td >Requisitioner Email:</td><td><a href="mailto:NAME@DOMAIN.COM" class="email">NAME@DOMAIN.COM</a></td>
    </tr>

  </table>

${html_builder().section_cells_end()}


<hr class="big-white-line" >
<div class="twocellmain" style="height: 100px;"  >
    <div class="oneoftwocellmain"  >
        <h2 >Summary</h2>
    </div>
    <div class="twooftwocellmain"  style="height: 100px; padding: 10px; background-color:rgba(101,188,69,.5);  border: 3px solid #65bc45; border-radius: 12px" >
        <hr class="big-line" style="margin-top: -30px;">

<h3 style="margin-top: 45px;">Minimal Residual Disease: ${results.get(constants.CTDNA_OUTCOME)}</h3>
<p >
     Mutational sampling analysis finds the number of SNVs of tumour origin 
     detected in the plasma is
      <strong>${results.get(constants.SIGNIFICANCE)} </strong>  
      than in the control cohort.
</p>

${html_builder().section_cells_end()}


${html_builder().section_cells_begin("<h2>SAMPLE QC</h2>","main")}

  <table class="info">
    <tr>
      <th style="width:30%"></th>
      <th style="width:10%"></th>
      <th style="width:30%"></th>
      <th style="width:10%"></th>
      <th style="width:30%"></th>
      <th style="width:15%"></th>
    </tr>
    <tr>
      <td>Median Insert Size (bp):</td>
      <td >${results.get(constants.INSERT_SIZE)}</td>
      <td >Coverage (mean):</td>
      <td >${results.get(constants.COVERAGE)}</td>
      <td >Primary SNVs:</td>
      <td >${results.get(constants.SNV_COUNT)}</td>
    </tr>
  </table>

${html_builder().section_cells_end()}
